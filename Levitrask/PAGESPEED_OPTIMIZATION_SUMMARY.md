# PageSpeed Insights ä¼˜åŒ–æ€»ç»“

## ğŸ¯ ä¼˜åŒ–ç›®æ ‡

åŸºäº PageSpeed Insights æŠ¥å‘Šï¼Œé’ˆå¯¹ä»¥ä¸‹é—®é¢˜è¿›è¡Œå…¨é¢ä¼˜åŒ–ï¼š

1. **ç´¯ç§¯å¸ƒå±€åç§» (CLS)** - å‘ç°äº† 2 æ¬¡å¸ƒå±€åç§»
2. **å‡å°‘æœªä½¿ç”¨çš„ JavaScript** - éœ€è¦èŠ‚çœ 301 KiB
3. **ç§»é™¤é˜»å¡æ¸²æŸ“çš„èµ„æº** - éœ€è¦èŠ‚çœ 70 æ¯«ç§’
4. **æœ€å¤§å†…å®¹æ¸²æŸ“æ—¶é—´ (LCP)** - 4,490 æ¯«ç§’

## ğŸ”§ å®æ–½çš„ä¼˜åŒ–ç­–ç•¥

### 1. å…³é”®æ¸²æŸ“è·¯å¾„ä¼˜åŒ–

#### index.html ä¼˜åŒ–
- âœ… æ·»åŠ å…³é”®èµ„æºé¢„åŠ è½½ (`preload`)
- âœ… å†…è”å…³é”® CSSï¼Œå‡å°‘æ¸²æŸ“é˜»å¡
- âœ… æ·»åŠ  DNS é¢„è§£æ (`dns-prefetch`)
- âœ… ä¼˜åŒ– meta æ ‡ç­¾å’Œ SEO ä¿¡æ¯
- âœ… æ·»åŠ é˜²å¸ƒå±€åç§»çš„å…³é”®æ ·å¼

#### å…³é”® CSS å†…è”
```css
/* é˜²æ­¢å¸ƒå±€åç§»çš„å…³é”®æ ·å¼ */
.app-wrapper { contain: layout style; }
.main-content-area { 
  min-height: 800px; 
  contain: layout style; 
  transform: translateZ(0); 
}
.hero-image-placeholder {
  width: 100%; height: 300px;
  contain: layout paint;
  will-change: transform;
}
```

### 2. JavaScript ä¼˜åŒ–

#### åŠ¨æ€å¯¼å…¥ç­–ç•¥
- âœ… Element Plus æŒ‰éœ€åŠ¨æ€åŠ è½½
- âœ… å›¾æ ‡åº“åªåŠ è½½å¸¸ç”¨å›¾æ ‡
- âœ… ä½¿ç”¨ `requestIdleCallback` å»¶è¿Ÿéå…³é”®èµ„æº
- âœ… åˆ›å»ºæ¨¡å—ç¼“å­˜ç³»ç»Ÿ

#### ä»£ç åˆ†å‰²ä¼˜åŒ–
```javascript
// vite.config.js ä¼˜åŒ–
manualChunks: {
  'vue-vendor': ['vue', 'vue-router', 'pinia'],
  'i18n-vendor': ['vue-i18n'],
  'element-vendor': ['element-plus', '@element-plus/icons-vue'],
  'swiper-vendor': ['swiper'],
  'http-vendor': ['axios'],
}
```

### 3. å¸ƒå±€åç§» (CLS) ä¼˜åŒ–

#### æ–°å¢ç»„ä»¶
- âœ… `LazyLoad.vue` - æ™ºèƒ½æ‡’åŠ è½½ç»„ä»¶
- âœ… `OptimizedImage.vue` - ä¼˜åŒ–å›¾ç‰‡ç»„ä»¶

#### é˜²åç§»ç­–ç•¥
- âœ… ä¸ºæ‰€æœ‰å®¹å™¨è®¾ç½®å›ºå®šå°ºå¯¸
- âœ… ä½¿ç”¨ `contain: layout style` å±æ€§
- âœ… å›¾ç‰‡è®¾ç½® `aspect-ratio` å’Œå ä½ç¬¦
- âœ… å†…å®¹å—ä½¿ç”¨æ‡’åŠ è½½åŒ…è£…

### 4. å›¾ç‰‡å’Œèµ„æºä¼˜åŒ–

#### å›¾ç‰‡ä¼˜åŒ–å·¥å…· (`resourceOptimizer.js`)
- âœ… WebP/AVIF æ ¼å¼è‡ªåŠ¨æ£€æµ‹å’Œè½¬æ¢
- âœ… å“åº”å¼å›¾ç‰‡ srcset ç”Ÿæˆ
- âœ… å›¾ç‰‡æ‡’åŠ è½½è§‚å¯Ÿå™¨
- âœ… é˜²å¸ƒå±€åç§»çš„å›¾ç‰‡å¤„ç†

#### èµ„æºé¢„åŠ è½½ç­–ç•¥
```javascript
// å…³é”®å›¾ç‰‡é¢„åŠ è½½
const criticalImages = [
  '/images/logo.png',
  '/images/index-01.webp'
]
preloadCriticalImages(criticalImages, { priority: 'high' })
```

### 5. æ€§èƒ½ç›‘æ§

#### å®æ—¶ç›‘æ§ (`performanceMonitor.js`)
- âœ… Core Web Vitals ç›‘æ§ (LCP, FID, CLS)
- âœ… å…¶ä»–å…³é”®æŒ‡æ ‡ (FCP, TTFB)
- âœ… èµ„æºåŠ è½½ç›‘æ§
- âœ… è‡ªåŠ¨æ€§èƒ½è¯„ä¼°å’Œå»ºè®®

## ğŸ“Š é¢„æœŸä¼˜åŒ–æ•ˆæœ

### JavaScript ä¼˜åŒ–
- **å‡å°‘åˆå§‹åŒ…å¤§å°**: çº¦ 200-300 KiB
- **æå‡é¦–å±åŠ è½½é€Ÿåº¦**: å‡å°‘ 40-60% çš„é˜»å¡æ—¶é—´
- **æŒ‰éœ€åŠ è½½**: éå…³é”®åŠŸèƒ½å»¶è¿ŸåŠ è½½

### å¸ƒå±€åç§»ä¼˜åŒ–
- **CLS åˆ†æ•°**: é¢„æœŸä» 0.2+ é™è‡³ 0.1 ä»¥ä¸‹
- **è§†è§‰ç¨³å®šæ€§**: æ¶ˆé™¤ä¸»è¦çš„å¸ƒå±€è·³åŠ¨
- **ç”¨æˆ·ä½“éªŒ**: æ›´æµç•…çš„é¡µé¢åŠ è½½

### æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–
- **LCP æ”¹å–„**: é¢„æœŸå‡å°‘ 1000-2000ms
- **FCP æå‡**: æ›´å¿«çš„é¦–æ¬¡å†…å®¹ç»˜åˆ¶
- **é˜»å¡èµ„æº**: å‡å°‘ 70ms+ çš„æ¸²æŸ“é˜»å¡

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### 1. å¯ç”¨æ–°ç»„ä»¶
```vue
<!-- ä½¿ç”¨æ‡’åŠ è½½åŒ…è£…å†…å®¹ -->
<LazyLoad :root-margin="'100px'" :min-height="200">
  <YourContent />
</LazyLoad>

<!-- ä½¿ç”¨ä¼˜åŒ–å›¾ç‰‡ç»„ä»¶ -->
<OptimizedImage 
  src="/images/example.jpg"
  alt="ç¤ºä¾‹å›¾ç‰‡"
  :width="800"
  :height="600"
  loading="lazy"
  fetchpriority="high"
/>
```

### 2. åŠ¨æ€å¯¼å…¥ä½¿ç”¨
```javascript
// æŒ‰éœ€åŠ è½½ Element Plus ç»„ä»¶
import { loadElementComponent } from '@/utils/dynamicImports'

const ElButton = await loadElementComponent('Button')
```

### 3. æ€§èƒ½ç›‘æ§
```javascript
import { performanceMonitor } from '@/utils/performanceMonitor'

// è·å–æ€§èƒ½æŒ‡æ ‡
const metrics = performanceMonitor.getMetrics()

// ç”Ÿæˆæ€§èƒ½æŠ¥å‘Š
const report = performanceMonitor.generateReport()
```

## ğŸ“‹ æ£€æŸ¥æ¸…å•

### éƒ¨ç½²å‰æ£€æŸ¥
- [ ] è¿è¡Œ `npm run build` ç¡®ä¿æ„å»ºæˆåŠŸ
- [ ] æ£€æŸ¥ dist ç›®å½•ä¸­çš„åŒ…å¤§å°
- [ ] éªŒè¯å…³é”®èµ„æºé¢„åŠ è½½æ­£å¸¸
- [ ] æµ‹è¯•å›¾ç‰‡æ‡’åŠ è½½åŠŸèƒ½
- [ ] ç¡®è®¤ Element Plus åŠ¨æ€åŠ è½½å·¥ä½œ

### æ€§èƒ½æµ‹è¯•
- [ ] ä½¿ç”¨ PageSpeed Insights é‡æ–°æµ‹è¯•
- [ ] æ£€æŸ¥ Core Web Vitals æŒ‡æ ‡
- [ ] éªŒè¯ç§»åŠ¨ç«¯æ€§èƒ½
- [ ] æµ‹è¯•ä¸åŒç½‘ç»œæ¡ä»¶ä¸‹çš„è¡¨ç°

### ç›‘æ§è®¾ç½®
- [ ] ç¡®è®¤æ€§èƒ½ç›‘æ§æ­£å¸¸å·¥ä½œ
- [ ] è®¾ç½®æ€§èƒ½æ•°æ®æ”¶é›†
- [ ] é…ç½®æ€§èƒ½è­¦æŠ¥ï¼ˆå¦‚éœ€è¦ï¼‰

## ğŸ”„ æŒç»­ä¼˜åŒ–å»ºè®®

1. **å®šæœŸç›‘æ§**: ä½¿ç”¨å†…ç½®çš„æ€§èƒ½ç›‘æ§å·¥å…·
2. **å›¾ç‰‡ä¼˜åŒ–**: ç»§ç»­è½¬æ¢æ›´å¤šå›¾ç‰‡ä¸º WebP/AVIF æ ¼å¼
3. **ä»£ç å®¡æŸ¥**: å®šæœŸæ£€æŸ¥æœªä½¿ç”¨çš„ä»£ç 
4. **ç¼“å­˜ç­–ç•¥**: ä¼˜åŒ–æµè§ˆå™¨å’Œ CDN ç¼“å­˜
5. **æœåŠ¡å™¨ä¼˜åŒ–**: è€ƒè™‘æœåŠ¡å™¨ç«¯æ¸²æŸ“ (SSR) æˆ–é™æ€ç”Ÿæˆ (SSG)

## ğŸ“ˆ é¢„æœŸ PageSpeed Insights åˆ†æ•°æå‡

- **æ€§èƒ½åˆ†æ•°**: ä» 60-70 æå‡è‡³ 85-95
- **æœ€ä½³å®è·µ**: ä¿æŒ 90+ åˆ†æ•°
- **SEO**: ä¿æŒ 95+ åˆ†æ•°
- **æ— éšœç¢**: ä¿æŒ 90+ åˆ†æ•°

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜
1. **Element Plus æ ·å¼ä¸¢å¤±**: æ£€æŸ¥åŠ¨æ€ CSS åŠ è½½
2. **å›¾ç‰‡ä¸æ˜¾ç¤º**: éªŒè¯ WebP æ”¯æŒæ£€æµ‹
3. **æ‡’åŠ è½½ä¸å·¥ä½œ**: æ£€æŸ¥ IntersectionObserver æ”¯æŒ
4. **æ€§èƒ½ç›‘æ§æ— æ•°æ®**: ç¡®è®¤æµè§ˆå™¨æ”¯æŒ PerformanceObserver

### è°ƒè¯•å·¥å…·
- æµè§ˆå™¨å¼€å‘è€…å·¥å…· > Performance é¢æ¿
- Network é¢æ¿æ£€æŸ¥èµ„æºåŠ è½½
- Console æŸ¥çœ‹æ€§èƒ½æ—¥å¿—
- Lighthouse è¿›è¡Œç»¼åˆæµ‹è¯•
